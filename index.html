<!DOCTYPE html>
<html lang="ar" dir="rtl">

    <head>
        <meta charset="UTF-8"/>
        <meta name="viewport"
              content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0, width=device-width"/>
        <meta http-equiv="X-UA-Compatible" content="ie=edge"/>
        <title>Quran</title>

        <!--  favicon  -->
        <link rel="shortcut icon" href="./assets/img/tanzil.svg" type="image/x-icon"/>

        <!--  CSS  -->
        <link rel="stylesheet" href="./assets/css/normalize.css"/>
        <link rel="stylesheet" href="./assets/scss/main.css"/>
    </head>

    <body>
        <header>
            <div class="header">
                <div role="button" class="header__menu-btn">
                    <span class="header__menu-btn__burger"></span>
                </div>
                <div role="button" class="header__surah">
                    <span>الرحمن</span>
                </div>
                <div role="button" class="header__back">
                    <span class="header__back__icon"></span>
                </div>
            </div>
        </header>

        <div class="main">
            <div class="container">
                <div class="main__content">
                    <p>
                        لكن لا بد أن و سأعرض مثال حي لهذا، من منا لم يتحمل جهد بدني شاق إلا من أجل الحصول على ميزة أو فائدة؟
                        ولكن من لديه الحق أن ينتقد شخص ما أراد أن يشعر بالسعادة التي لا تشوبها عواقب أليملهائمون في رغباتهم فلا
                        يدركون ما يعقبها من الألم والأسي المحتم، واللوم كذلك يشمل هؤلاء الذين أخفقوا في وا
                    </p>
                </div>
            </div>
        </div>

        <footer>
            <div class="footer">
                <div role="button" class="footer__settings">
                    <img src="./assets/icons/svg/sliders2.svg" alt="">
                </div>
                <div role="button" class="footer__speed">
                    <span>
                        1.5x
                    </span>
                </div>
                <div role="button" class="footer__player">
                    <img src="./assets/icons/svg/play-circle-fill.svg" alt="">
                </div>
                <div role="button" class="footer__singer">
                    مداح
                </div>
                <div role="button" class="footer__more">
                    <img src="./assets/icons/svg/three-dots-vertical.svg" alt="">
                </div>

                <audio id="player" controls>
                    <source src="./assets/audio/ziarat-ashoura_meytham.mp3" type="audio/mp3"/>
                    <source src="./assets/audio/ziarat-ashoura_meytham.mp3" type="audio/ogg"/>
                </audio>
            </div>
        </footer>

        <div class="side-menu">
            <!-- bootstrap version -->
            <!--<div class="row">
                <div class="side-menu__btn-group" role="group" aria-label="Basic example">
                    <button type="button" data-bs-target="#home" data-bs-toggle="tab" role="tab" aria-selected="true" class="btn btn-light active">Left</button>
                    <button type="button" data-bs-target="#profile" data-bs-toggle="tab" role="tab" aria-selected="false" class="btn btn-light">Middle</button>
                    <button type="button" data-bs-target="#messages" data-bs-toggle="tab" role="tab" aria-selected="false" class="btn btn-light">Right</button>
                </div>
                &lt;!&ndash; Tab panes &ndash;&gt;
                <div class="tab-content">
                    <div class="tab-pane show active" id="home" role="tabpanel" aria-labelledby="home-tab" tabindex="0">home</div>
                    <div class="tab-pane" id="profile" role="tabpanel" aria-labelledby="profile-tab" tabindex="0">profile</div>
                    <div class="tab-pane" id="messages" role="tabpanel" aria-labelledby="messages-tab" tabindex="0">messages</div>
                </div>
            </div>-->
            <!-- bootstrap version -->

            <div class="container-fluid">
                <!-- handmade -->
                <div class="side-menu__btn-group container-fluid" role="group" aria-label="Basic example">
                    <button type="button" data-bs-target="#home" class="active">سورة</button>
                    <button type="button" data-bs-target="#profile" class="">صفحة</button>
                    <button type="button" data-bs-target="#messages" class="">جزء</button>
                </div>
                <!-- Tab panes -->
                <div class="side-menu__tab-content container-fluid">
                    <div class="side-menu__tab-content__tab active" id="home" role="tabpanel" tabindex="0">لكن لا بد أن
                        و سأعرض مثال حي لهذا، من منا لم يتحمل جهد بدني شاق إلا من أجل الحصول على ميزة أو فائدة؟ ولكن من
                        لديه الحق أن ينتقد شخص ما أراد أن يشعر بالسعادة التي لا تشوبها عواقب أليملهائمون في رغباتهم فلا
                        يدركون
                        ما يعقبها من الألم والأسي المحتم، واللوم كذلك يشمل هؤلاء الذين أخفقوا في واجباتهم نتيجة لضعف
                        إرادتهم فيتساوي مع هؤلاء الذين يتجنبون وينأون عن تحمل الكدح والألم .
                    </div>
                    <div class="side-menu__tab-content__tab" id="profile" role="tabpanel" tabindex="0">
                        لكن لا بد أن أوضح لك أن كل هذه الأفكار المغلوطة حول استنكار النشوة وتمجيد الألم نشأت بالفعل،
                        وسأعرض لك التفاصيل لتكتشف حقيقة وأساس تلك السعادة البشرية، فلا أحد يرفض أو يكره أو يتجنب الشعور
                        المنال ويتلذذ بالآلام، الألم هو الألم ولكن نتيجة لظروف ما قد تكمن السعاده فيما نتحمله من كد
                        وأسي.

                    </div>
                    <div class="side-menu__tab-content__tab" id="messages" role="tabpanel" tabindex="0">لكن لا بد أن
                        أوضح لك أن كل هذه الأفكار المغلوطة حول استنكار النشوة وتمجيد الألم نشأت بالفعل، وسأعرض لك
                        التفاصيل لتكتشف حقيقة وأساس تلك السعادة البشرية، فلا أحد يرفض أو يكره أو يتجنب الشعور بالسعادة،
                        ولكن بفضل هؤلاء الأشخاص الذين لا يدركون بأن السعادة لا بد أن نستشعرها بصورة أكثر عقلانية ومنطقية
                        فيعرضهم هذا لمواجهة الظروف الأليمة، وأكرر بأنه لا يوجد من يرغب في الحب ونيل المنال ويتلذذ
                        بالآلام، الألم هو الألم ولكن نتيجة لظروف ما قد تكمن السعاده فيما نتحمله من كد وأسي.

                        و سأعرض مثال حي لهذا، من منا لم يتحمل جهد بدني شاق إلا من أجل الحصول على ميزة أو فائدة؟ ولكن من
                        لديه الحق أن ينتقد شخص ما أراد أن يشعر بالسعادة التي لا تشوبها عواقب أليمة أو آخر أراد أن يتجنب
                        ما يعقبها من الألم والأسي المحتم، واللوم كذلك يشمل هؤلاء الذين أخفقوا في واجباتهم نتيجة لضعف
                        إرادتهم فيتساوي مع هؤلاء الذين يتجنبون وينأون عن تحمل الكدح والألم .
                    </div>
                </div>
                <!-- handmade -->
            </div>
        </div>

        <!-- side menu -->
        <script src="./assets/js/side_menu.js"></script>

        <!-- page js -->
        <script>
            document.addEventListener("DOMContentLoaded", function () {
                let side_menu = new SideMenu(".side-menu");
                side_menu.is_dragging = false;

                side_menu.menu.addEventListener("mousedown", handleMouseDown);
                side_menu.menu.addEventListener("mouseup", handleMouseUp);
                side_menu.menu.addEventListener("touchstart", handleTouchStart);
                side_menu.menu.addEventListener("touchend", handleTouchEnd);

                var initialX;
                var isDragging = false;

                function handleMouseDown(e) {
                    initialX = e.clientX;
                    side_menu.is_dragging = true;
                    document.addEventListener("mousemove", handleMouseMove);
                }

                function handleMouseMove(e) {
                    if (!side_menu.is_dragging) {
                        return;
                    }

                    var currentX = e.clientX;
                    var diffX = currentX - initialX;
                    if (diffX < 0) {
                        return;
                    }
                    var speed = diffX * 1.5;  // Increase or decrease this value to control the speed
                    side_menu.menu.style.transform = "translateX(" + speed + "px)";

                    if (speed >= 200) {
                        console.log("close");
                        side_menu.closeMenu();
                    } else {
                        console.log("no change");
                        setTimeout(() => {
                            if (!side_menu.is_closed)
                                side_menu.menu.style.transform = "translateX(0)";
                        }, 500);
                        // side_menu.menu.style.transform = "translateX(0)";
                    }
                }

                function handleMouseUp() {
                    console.log("up");
                    side_menu.is_dragging = false;
                    document.removeEventListener("mousemove", handleMouseMove);
                    // side_menu.menu.style.transform = "translateX(0)";
                }

                // Touch events
                function handleTouchStart(e) {
                    initialX = e.touches[0].clientX;
                    isDragging = true;
                    document.addEventListener("touchmove", handleTouchMove);
                }

                function handleTouchMove(e) {
                    if (!isDragging) {
                        return;
                    }

                    var currentX = e.touches[0].clientX;
                    var diffX = currentX - initialX;
                    var speed = diffX * 1.5;  // Increase or decrease this value to control the speed
                    side_menu.menu.style.transform = "translateX(" + speed + "px)";
                }

                function handleTouchEnd() {
                    isDragging = false;
                    document.removeEventListener("touchmove", handleTouchMove);
                    side_menu.menu.style.transform = "translateX(0)";
                }

                let tab_buttons = document.querySelectorAll(".side-menu__btn-group button");
                tab_buttons.forEach(function (btn) {
                    btn.addEventListener("click", function () {
                        tab_buttons.forEach(function (b) {
                            b.classList.remove("active");
                            let tab = document.querySelector(b.dataset.bsTarget);
                            tab.classList.remove("show");
                            tab.classList.remove("active");
                        });

                        btn.classList.toggle("active");
                        let tab_panel = document.querySelector(btn.dataset.bsTarget);
                        tab_panel.classList.toggle("show");
                        tab_panel.classList.toggle("active");
                    });
                });
            });
        </script>
    </body>

</html>
